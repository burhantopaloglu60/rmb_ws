sudo apt install libmariadb3 libmariadb-dev mariadb-server mariadb-client
sudo mariadb-secure-installation //choices don't matter
sudo mariadb -u root

usage is just
include "g425_assign1_pkg/GGDatabase.hpp"
GGDatabase db();
--------------------------------------------------------------------------

CREATE DATABASE grade_generator;
USE grade_generator;

CREATE TABLE `students` (
    id INT AUTO_INCREMENT PRIMARY KEY,
    `student_name` VARCHAR(100) NOT NULL,
    timestamp DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE `courses` (
    id INT AUTO_INCREMENT PRIMARY KEY,
    `course_name` VARCHAR(100) NOT NULL,
    `number_of_grades` INT DEFAULT 0,
    timestamp DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE student_courses (
    student_id INT NOT NULL,
    course_id INT NOT NULL,
    PRIMARY KEY (student_id, course_id),
    FOREIGN KEY (student_id) REFERENCES students(id) ON DELETE CASCADE ON UPDATE CASCADE,
    FOREIGN KEY (course_id) REFERENCES courses(id) ON DELETE CASCADE ON UPDATE CASCADE,
    timestamp DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE `final_grades` (
    `id` INT AUTO_INCREMENT PRIMARY KEY,
    `student_id` INT NOT NULL,
    FOREIGN KEY (student_id) REFERENCES students(id) ON DELETE CASCADE,
    `course_id` INT NOT NULL,
    FOREIGN KEY (course_id) REFERENCES courses(id) ON DELETE CASCADE,
    `number_of_exams` INT DEFAULT 0,
    `final_grade` DECIMAL(5,2),
    `timestamp` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    UNIQUE KEY unique_student_course (`student_id`, `course_id`)
);

CREATE TABLE `grades` (
    id INT AUTO_INCREMENT PRIMARY KEY,
    student_id INT NOT NULL,
    FOREIGN KEY (student_id) REFERENCES students(id) ON DELETE CASCADE,
    course_id INT NOT NULL,
    FOREIGN KEY (course_id) REFERENCES courses(id) ON DELETE CASCADE,
    grade DOUBLE NOT NULL,
    timestamp DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
);

CREATE USER 'john_gradegenerator'@'localhost' IDENTIFIED BY '1234';
GRANT ALL PRIVILEGES ON grade_generator.* TO 'john_gradegenerator'@'localhost';

INSERT INTO students(student_name) VALUES ("Sarah Connor");
INSERT INTO courses(course_name) VALUES ("Introduction to Robotics");
INSERT INTO final_grades(student_id, course_id, number_of_exams, final_grade, timestamp) VALUES (1, 1, 2, 89.75, NOW());
INSERT INTO student_courses (student_id, course_id) VALUES (1, 1);
